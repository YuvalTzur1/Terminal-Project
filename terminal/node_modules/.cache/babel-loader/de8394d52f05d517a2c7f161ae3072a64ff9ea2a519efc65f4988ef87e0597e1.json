{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Yuval\\\\OneDrive\\\\\\u0627\\u0644\\u0645\\u0633\\u062A\\u0646\\u062F\\u0627\\u062A\\\\\\u05E7\\u05D5\\u05E8\\u05E1 \\u05EA\\u05DB\\u05E0\\u05D5\\u05EA\\\\FinalProject\\\\terminal\\\\src\\\\components\\\\terminalComponent.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport signalRService from \"../services/signalRService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TerminalComponent = () => {\n  _s();\n  const [legs, setLegs] = useState(Array(9).fill(null));\n  useEffect(() => {\n    const startSignalRConnection = async () => {\n      await signalRService.startConnection();\n\n      // Handle flightReceived event\n      signalRService.addFlightReceivedListener(flight => {\n        console.log(\"Received flight:\", flight);\n        handleFlightReceived(flight);\n      });\n\n      // Handle flightRemove event\n      signalRService.addFlightRemoveListener(flightId => {\n        console.log(\"Removed flight:\", flightId);\n        handleFlightRemove(flightId);\n      });\n\n      // Handle flightMove event\n      signalRService.addFlightMoveListener((flightId, updatedLeg) => {\n        console.log(`Moved flight: ${flightId} - ${updatedLeg}`);\n        handleFlightMove(flightId, updatedLeg);\n      });\n    };\n    startSignalRConnection();\n  }, []);\n  const handleFlightReceived = flight => {\n    const updatedLegs = [...legs];\n    updatedLegs[flight.currentLeg - 1] = flight;\n    setLegs(updatedLegs);\n  };\n  const handleFlightMove = (flightId, updatedLeg) => {\n    const updatedLegs = [...legs];\n    const flightIndex = updatedLegs.findIndex(flight => flight && flight.id === flightId);\n    if (flightIndex !== -1) {\n      updatedLegs[flightIndex].currentLeg = updatedLeg;\n      setLegs(updatedLegs);\n    }\n  };\n  const handleFlightRemove = flightId => {\n    const updatedLegs = [...legs];\n    const flightIndex = updatedLegs.findIndex(flight => flight && flight.id === flightId);\n    if (flightIndex !== -1) {\n      updatedLegs[flightIndex] = null;\n      setLegs(updatedLegs);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"terminal\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"terminal-header\",\n      children: \"Terminal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"terminal-body\",\n      id: \"terminal-body\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"legs\",\n      children: legs.map((flight, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"leg\",\n        children: flight && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Flight ID: \", flight.id, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this), \"Current Leg: \", flight.currentLeg]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"terminal-input\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"prompt\",\n        children: \"$\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"command-input\",\n        autoFocus: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(TerminalComponent, \"x8Wr4BiW/oEhJTjCwqkdKcrAsok=\");\n_c = TerminalComponent;\nexport default TerminalComponent;\nvar _c;\n$RefreshReg$(_c, \"TerminalComponent\");","map":{"version":3,"names":["React","useEffect","useState","signalRService","jsxDEV","_jsxDEV","TerminalComponent","_s","legs","setLegs","Array","fill","startSignalRConnection","startConnection","addFlightReceivedListener","flight","console","log","handleFlightReceived","addFlightRemoveListener","flightId","handleFlightRemove","addFlightMoveListener","updatedLeg","handleFlightMove","updatedLegs","currentLeg","flightIndex","findIndex","id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","index","type","autoFocus","_c","$RefreshReg$"],"sources":["C:/Users/Yuval/OneDrive/المستندات/קורס תכנות/FinalProject/terminal/src/components/terminalComponent.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport signalRService from \"../services/signalRService\";\r\n\r\nconst TerminalComponent = () => {\r\n  const [legs, setLegs] = useState(Array(9).fill(null));\r\n\r\n  useEffect(() => {\r\n    const startSignalRConnection = async () => {\r\n      await signalRService.startConnection();\r\n\r\n      // Handle flightReceived event\r\n      signalRService.addFlightReceivedListener((flight) => {\r\n        console.log(\"Received flight:\", flight);\r\n        handleFlightReceived(flight);\r\n      });\r\n\r\n      // Handle flightRemove event\r\n      signalRService.addFlightRemoveListener((flightId) => {\r\n        console.log(\"Removed flight:\", flightId);\r\n        handleFlightRemove(flightId);\r\n      });\r\n\r\n      // Handle flightMove event\r\n      signalRService.addFlightMoveListener((flightId, updatedLeg) => {\r\n        console.log(`Moved flight: ${flightId} - ${updatedLeg}`);\r\n        handleFlightMove(flightId, updatedLeg);\r\n      });\r\n    };\r\n\r\n    startSignalRConnection();\r\n  }, []);\r\n\r\n  const handleFlightReceived = (flight) => {\r\n    const updatedLegs = [...legs];\r\n    updatedLegs[flight.currentLeg - 1] = flight;\r\n    setLegs(updatedLegs);\r\n  };\r\n\r\n  const handleFlightMove = (flightId, updatedLeg) => {\r\n    const updatedLegs = [...legs];\r\n    const flightIndex = updatedLegs.findIndex((flight) => flight && flight.id === flightId);\r\n    if (flightIndex !== -1) {\r\n      updatedLegs[flightIndex].currentLeg = updatedLeg;\r\n      setLegs(updatedLegs);\r\n    }\r\n  };\r\n\r\n  const handleFlightRemove = (flightId) => {\r\n    const updatedLegs = [...legs];\r\n    const flightIndex = updatedLegs.findIndex((flight) => flight && flight.id === flightId);\r\n    if (flightIndex !== -1) {\r\n      updatedLegs[flightIndex] = null;\r\n      setLegs(updatedLegs);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"terminal\">\r\n      <div className=\"terminal-header\">Terminal</div>\r\n      <div className=\"terminal-body\" id=\"terminal-body\"></div>\r\n      <div className=\"legs\">\r\n        {legs.map((flight, index) => (\r\n          <div className=\"leg\" key={index}>\r\n            {flight && (\r\n              <div>\r\n                Flight ID: {flight.id}\r\n                <br />\r\n                Current Leg: {flight.currentLeg}\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"terminal-input\">\r\n        <span className=\"prompt\">$</span>\r\n        <input type=\"text\" id=\"command-input\" autoFocus />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TerminalComponent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}