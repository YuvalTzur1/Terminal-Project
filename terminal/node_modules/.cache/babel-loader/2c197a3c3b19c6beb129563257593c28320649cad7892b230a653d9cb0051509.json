{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Yuval\\\\OneDrive\\\\\\u0627\\u0644\\u0645\\u0633\\u062A\\u0646\\u062F\\u0627\\u062A\\\\\\u05E7\\u05D5\\u05E8\\u05E1 \\u05EA\\u05DB\\u05E0\\u05D5\\u05EA\\\\FinalProject\\\\terminal\\\\src\\\\components\\\\terminalComponent.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport signalRService from \"../services/signalRService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TerminalComponent = () => {\n  _s();\n  const [flights, setFlights] = useState([]);\n  useEffect(() => {\n    const startSignalRConnection = async () => {\n      await signalRService.startConnection();\n      signalRService.addFlightReceivedListener(flightNumber => {\n        console.log(\"Received flight:\", flightNumber);\n        setFlights(prevFlights => [...prevFlights, flightNumber]);\n      });\n      signalRService.addFlightRemoveListener(flightNumber => {\n        console.log(\"Removed flight:\", flightNumber);\n        setFlights(prevFlights => prevFlights.filter(flight => flight !== flightNumber));\n      });\n      signalRService.addFlightMoveListener((flightNumber, updatedLeg) => {\n        console.log(`Moved flight: ${flightNumber} - ${updatedLeg}`);\n        setFlights(prevFlights => prevFlights.map(flight => flight === flightNumber ? updatedLeg : flight));\n      });\n    };\n    startSignalRConnection();\n  }, []);\n  const renderLegs = () => {\n    return Array.from({\n      length: 9\n    }, (_, index) => {\n      const legFlight = flights.find(flight => flight === index + 1);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"leg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Leg \", index + 1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), legFlight && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flight\",\n          children: [\"Flight \", legFlight]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 25\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"terminal\",\n    children: renderLegs()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 10\n  }, this);\n};\n_s(TerminalComponent, \"YkaBEB7rvMCgao95TwXfNB7bv6I=\");\n_c = TerminalComponent;\nexport default TerminalComponent;\nvar _c;\n$RefreshReg$(_c, \"TerminalComponent\");","map":{"version":3,"names":["React","useEffect","useState","signalRService","jsxDEV","_jsxDEV","TerminalComponent","_s","flights","setFlights","startSignalRConnection","startConnection","addFlightReceivedListener","flightNumber","console","log","prevFlights","addFlightRemoveListener","filter","flight","addFlightMoveListener","updatedLeg","map","renderLegs","Array","from","length","_","index","legFlight","find","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Yuval/OneDrive/المستندات/קורס תכנות/FinalProject/terminal/src/components/terminalComponent.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport signalRService from \"../services/signalRService\";\r\n\r\nconst TerminalComponent = () => {\r\n  const [flights, setFlights] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const startSignalRConnection = async () => {\r\n      await signalRService.startConnection();\r\n\r\n      signalRService.addFlightReceivedListener((flightNumber) => {\r\n        console.log(\"Received flight:\", flightNumber);\r\n        setFlights((prevFlights) => [...prevFlights, flightNumber]);\r\n      });\r\n\r\n      signalRService.addFlightRemoveListener((flightNumber) => {\r\n        console.log(\"Removed flight:\", flightNumber);\r\n        setFlights((prevFlights) =>\r\n          prevFlights.filter((flight) => flight !== flightNumber)\r\n        );\r\n      });\r\n\r\n      signalRService.addFlightMoveListener((flightNumber, updatedLeg) => {\r\n        console.log(`Moved flight: ${flightNumber} - ${updatedLeg}`);\r\n        setFlights((prevFlights) =>\r\n          prevFlights.map((flight) =>\r\n            flight === flightNumber ? updatedLeg : flight\r\n          )\r\n        );\r\n      });\r\n    };\r\n\r\n    startSignalRConnection();\r\n  }, []);\r\n\r\n  const renderLegs = () => {\r\n    return Array.from({ length: 9 }, (_, index) => {\r\n      const legFlight = flights.find((flight) => flight === index + 1);\r\n\r\n      return (\r\n        <div key={index} className=\"leg\">\r\n          <h3>Leg {index + 1}</h3>\r\n          {legFlight && <div className=\"flight\">Flight {legFlight}</div>}\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  return <div className=\"terminal\">{renderLegs()}</div>;\r\n};\r\n\r\nexport default TerminalComponent;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,cAAc,MAAM,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExD,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC9B,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAE1CD,SAAS,CAAC,MAAM;IACd,MAAMS,sBAAsB,GAAG,MAAAA,CAAA,KAAY;MACzC,MAAMP,cAAc,CAACQ,eAAe,CAAC,CAAC;MAEtCR,cAAc,CAACS,yBAAyB,CAAEC,YAAY,IAAK;QACzDC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEF,YAAY,CAAC;QAC7CJ,UAAU,CAAEO,WAAW,IAAK,CAAC,GAAGA,WAAW,EAAEH,YAAY,CAAC,CAAC;MAC7D,CAAC,CAAC;MAEFV,cAAc,CAACc,uBAAuB,CAAEJ,YAAY,IAAK;QACvDC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEF,YAAY,CAAC;QAC5CJ,UAAU,CAAEO,WAAW,IACrBA,WAAW,CAACE,MAAM,CAAEC,MAAM,IAAKA,MAAM,KAAKN,YAAY,CACxD,CAAC;MACH,CAAC,CAAC;MAEFV,cAAc,CAACiB,qBAAqB,CAAC,CAACP,YAAY,EAAEQ,UAAU,KAAK;QACjEP,OAAO,CAACC,GAAG,CAAE,iBAAgBF,YAAa,MAAKQ,UAAW,EAAC,CAAC;QAC5DZ,UAAU,CAAEO,WAAW,IACrBA,WAAW,CAACM,GAAG,CAAEH,MAAM,IACrBA,MAAM,KAAKN,YAAY,GAAGQ,UAAU,GAAGF,MACzC,CACF,CAAC;MACH,CAAC,CAAC;IACJ,CAAC;IAEDT,sBAAsB,CAAC,CAAC;EAC1B,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMa,UAAU,GAAGA,CAAA,KAAM;IACvB,OAAOC,KAAK,CAACC,IAAI,CAAC;MAAEC,MAAM,EAAE;IAAE,CAAC,EAAE,CAACC,CAAC,EAAEC,KAAK,KAAK;MAC7C,MAAMC,SAAS,GAAGrB,OAAO,CAACsB,IAAI,CAAEX,MAAM,IAAKA,MAAM,KAAKS,KAAK,GAAG,CAAC,CAAC;MAEhE,oBACEvB,OAAA;QAAiB0B,SAAS,EAAC,KAAK;QAAAC,QAAA,gBAC9B3B,OAAA;UAAA2B,QAAA,GAAI,MAAI,EAACJ,KAAK,GAAG,CAAC;QAAA;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,EACvBP,SAAS,iBAAIxB,OAAA;UAAK0B,SAAS,EAAC,QAAQ;UAAAC,QAAA,GAAC,SAAO,EAACH,SAAS;QAAA;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA,GAFtDR,KAAK;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAGV,CAAC;IAEV,CAAC,CAAC;EACJ,CAAC;EAED,oBAAO/B,OAAA;IAAK0B,SAAS,EAAC,UAAU;IAAAC,QAAA,EAAET,UAAU,CAAC;EAAC;IAAAU,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;AACvD,CAAC;AAAC7B,EAAA,CA9CID,iBAAiB;AAAA+B,EAAA,GAAjB/B,iBAAiB;AAgDvB,eAAeA,iBAAiB;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}